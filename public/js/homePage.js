/**
 * Script redirecting a user to a desired page
 * based on their type of device
 */

const adminPage = "/admin.html";
const userPage = "/user.html";
const userPhonePage = "/user-phone.html";
const cBotPage = "/cbot.html";
const hololensPage = "/hololens.html";
const dronePage = "/drone.html";

let holoDialog;
let isIE = /*@cc_on!@*/ !!document.documentMode;
let isEdge = !isIE && !!window.StyleMedia;

function redirectAdmin() {
    window.location.href = window.location.href.substring(0, window.location.href.lastIndexOf("/")) + adminPage;
}

function redirectUser() {
    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
        window.location.href =
            window.location.href.substring(0, window.location.href.lastIndexOf("/")) +
            userPhonePage;
    } else {
        window.location.href =
            window.location.href.substring(0, window.location.href.lastIndexOf("/")) +
            userPage;
    }
}

function redirectCBot() {
    window.location.href = window.location.href.substring(0, window.location.href.lastIndexOf("/")) + cBotPage;
}

function redirectHololens() {
    window.location.href = window.location.href.substring(0, window.location.href.lastIndexOf("/")) + hololensPage;
}

function redirectDrone() {
    window.location.href = window.location.href.substring(0, window.location.href.lastIndexOf("/")) + dronePage;
}

function hideHoloLensModal() {
    holoDialog = document.getElementById("modalHoloLensDialog");
    holoDialog.classList.toggle("show-modal");
}

function showHoloLensModal() {
    holoDialog = document.getElementById("modalHoloLensDialog");
    if (isEdge) {
        holoDialog.classList.toggle("show-modal");
    }
}
