/**
 * Script showing average FPS each 250 ms
 * @param lastCalledTime - time in ms of a last called method count()
 * @param fps - integer counting frames
 */
var lastCalledTime, fps;

/**
 * Counts generated frames each 250ms, then writes it in the console and resers the counter
 */
function count() {
    window.requestAnimationFrame(count);
    if (!lastCalledTime) {
        lastCalledTime = Date.now();
        fps = 0;
        return;
    }

    fps++;

    if (Date.now() - lastCalledTime > 250) {
        fps = (fps / (Date.now() - lastCalledTime)) * 1000;
        console.log("Current FPS: " + fps.toFixed(1));
        lastCalledTime = Date.now();
        fps = 0;
    }
}

window.requestAnimationFrame(count);
